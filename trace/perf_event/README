SRC_PATH="/usr/src/linux-source-5.11.0/linux-source-5.11.0"

echo '  CC  trace_helpers.o'; 
gcc -Wall -O2 -Wmissing-prototypes -Wstrict-prototypes -I/usr/src/linux-source-5.11.1/usr/include -I/usr/src/linux-source-5.11.1/tools/testing/selftests/bpf/ -I/usr/src/linux-source-5.11.1/tools/lib/ -I/usr/src/linux-source-5.11.1/tools/include -I/usr/src/linux-source-5.11.1/tools/perf -DHAVE_ATTR_TEST=0  -c -o ./trace_helpers.o /usr/src/linux-source-5.11.1/tools/testing/selftests/bpf/trace_helpers.c; 


echo '  CC  sampleip_user.o'; 
gcc -Wall -O2 -Wmissing-prototypes -Wstrict-prototypes -I/usr/src/linux-source-5.11.1/tools/testing/selftests/bpf/ -I/usr/src/linux-source-5.11.1/usr/include -I../libbpf/src -I/usr/src/linux-source-5.11.1/tools/lib/ -I/usr/src/linux-source-5.11.1/tools/include -I/usr/src/linux-source-5.11.1/tools/perf -DHAVE_ATTR_TEST=0  -c -o ./sampleip_user.o ./sampleip_user.c


echo '  LD sampleip_user.o'; 
echo '  LD  /usr/src/linux-source-5.11.0/linux-source-5.11.0/samples/bpf/sampleip'; 
gcc -Wp,-MD, -Wall -O2 -Wmissing-prototypes -Wstrict-prototypes -I/usr/src/linux-source-5.11.1/tools/testing/selftests/bpf/ -I/usr/src/linux-source-5.11.1/usr/include -I../libbpf/src -I/usr/src/linux-source-5.11.1/tools/lib/ -I/usr/src/linux-source-5.11.1/tools/include -I/usr/src/linux-source-5.11.1/tools/perf -DHAVE_ATTR_TEST=0   -o ./sampleip ./sampleip_user.o ./trace_helpers.o /usr/src/linux-source-5.11.1/tools/lib/bpf/libbpf.a -lelf -lz ; 


root@cloudcome:/home/cloudcome/bpf/perf_event# ./sampleip
Sampling at 99 Hertz for 5 seconds. Ctrl-C also ends.
ADDR                KSYM                             COUNT
0xffffffffb1000072  __softirqentry_text_start        1
0xffffffffb0c45555  __lock_text_start                1
0xffffffffc08cc3a9  vbg_req_perform                  9
0xffffffffb0c451ab  mwait_idle                       484

